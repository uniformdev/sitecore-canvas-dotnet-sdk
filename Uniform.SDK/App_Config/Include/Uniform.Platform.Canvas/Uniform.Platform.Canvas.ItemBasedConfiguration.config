<!-- 
    UNIFORM
    This file is a part of Uniform distribution package

    IMPORTANT! Do not modify this file because all changes will be lost during further upgrade:
    Use patch files instead: https://doc.sitecore.com/developers/90/platform-administration-and-architecture/en/use-a-patch-file-to-customize-the-sitecore-configuration.html
-->

<configuration
  xmlns:set="http://www.sitecore.net/xmlconfig/set/"
  xmlns:role="http://www.sitecore.net/xmlconfig/role/"
  xmlns:patch="http://www.sitecore.net/xmlconfig/">

  <sitecore role:require="ContentManagement or ContentDelivery or Standalone">
    
    <commands>
      <command name="uniform:configuration:attachcanvasprefetchservice" type="Uniform.Commands.NewCanvasPrefetchService, Uniform.Platform.Canvas" />
      <command name="uniform:configuration:attachcanvasdeploymentscopeservice" type="Uniform.Commands.NewCanvasDeploymentScopeService, Uniform.Platform.Canvas" />
    </commands>
    
    <uniform>
      
      <services>    
        
        <itemBasedSiteConfigurationService>          
          <attachableServices hint="raw:AddAttachableService">
            
            <!-- Prefetch Service is attachable via item-based configuration-->
            <prefetchService folder="ContentSync">
              <canvasPrefetchService commandTemplateID="{3EFE447F-158D-4F3D-BACC-94F6603A2D20}">
                <ApiKey>{DC554BAC-B167-4B90-B1D7-254CDC785EE1}</ApiKey>
              </canvasPrefetchService>
            </prefetchService>

            <!-- Deployment Scope Service is attachable via item-based configuration-->
            <deploymentScopeService folder="Deployment">
              <canvasDeploymentScopeService  commandTemplateID="{F7D7B61B-9533-4C0F-AD0D-0DE38C994288}">
                <ContentSyncRoots hint="list:AddContentSyncRoot">{277F9BE0-0E05-453E-9D3E-BA0FE673D377}</ContentSyncRoots>
              </canvasDeploymentScopeService>
            </deploymentScopeService>
          
          </attachableServices>          
        </itemBasedSiteConfigurationService>
          
      </services>
      
    </uniform>
    
  </sitecore>
</configuration>
